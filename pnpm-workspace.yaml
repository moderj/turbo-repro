packages:
  - apps/*
  - packages/*

injectWorkspacePackages: true

onlyBuiltDependencies:
  - '@biomejs/biome'
  - protobufjs
  - esbuild

overrides:
  '@babel/runtime@<7.26.10': '>=7.26.10'
  axios@<1.12.0: '>=1.12.0'
  axios@<1.8.2: '>=1.8.2'
  braces@<3.0.3: '>=3.0.3'
  cookie@<0.7.0: '>=0.7.0'
  cross-spawn@<6.0.6: '>=6.0.6'
  cross-spawn@>=7.0.0 <7.0.5: '>=7.0.5'
  esbuild@<=0.24.2: '>=0.25.0'
  fastify@=4.29.0: 4.29.1
  fastify@>=5.0.0 <=5.3.1: '>=5.3.2'
  find-my-way@>=5.5.0 <8.2.2: '>=8.2.2'
  micromatch@<4.0.8: '>=4.0.8'
  nanoid@<3.3.8: '=3.3.8'
  path-to-regexp@>=2.0.0 <3.3.0: '>=3.3.0'
  rollup@>=4.0.0 <4.22.4: '>=4.22.4'
  tmp@<=0.2.3: '>=0.2.4'
  undici@>=6.0.0 <6.21.2: '>=6.21.2'
  undici@>=6.0.0 <6.21.2": '>=6.21.2'
  vite@>=6.0.0: '=6.3.5'
  vitest@>=3.0.0: '>=3.0.5'
  zod: 3.25.28

packageExtensions:
  '@fastify/swagger-ui@4':
    peerDependencies:
      fastify: ^4.0.0
  '@fastify/swagger-ui@5':
    peerDependencies:
      fastify: ^5.0.0
  '@fastify/swagger@8':
    peerDependencies:
      fastify: ^4.0.0
  '@fastify/swagger@9':
    peerDependencies:
      fastify: ^5.0.0
  fastify-type-provider-zod@2:
    peerDependencies:
      fastify: ^4.0.0
  fastify-type-provider-zod@>3:
    peerDependencies:
      fastify: ^5.0.0

syncInjectedDepsAfterScripts:
  - build

verifyDepsBeforeRun: prompt
